<!--The correct Exercise 3 version-->
<!DOCTYPE html>
<html
	<head>
		<title>Web Dictionary</title>
		<link href="webdictionary.css" type="text/css" rel="stylesheet">
	</head>
<body>
	<div class="header">
  		<h1>Web Dictionary</h1>
	<div class="column">
	<p>Look up the definition of a word (eg: ajax, html, bar, php. javascript or php)</p>
	<input type="text" id="search" placeholder="ajax"><button onclick="myFunction()">Search</button><button onclick="Function()">Get All Definitions</button>
	<p><strong>Result(s) will display below</strong></p>
	<div id="result"></div>
	<script>
	function myFunction() {
		var ans = document.getElementById("search").value;
		let xhr = new XMLHttpRequest;
	    //Call the open function, GET-type of request, url, true-asynchronous
	    switch(ans){
		    case "definition": xhr.open('GET', 'request.php?q=definition', true);
		    break;
		    case "bar": xhr.open('GET', 'request.php?q=bar', true);
		    break;
		    case "ajax": xhr.open('GET', 'request.php?q=ajax', true);
		    break;
		    case "html": xhr.open('GET', 'request.php?q=html', true);
		    break;
		    case "css": xhr.open('GET', 'request.php?q=css', true);
		    break;
		    case "javascript": xhr.open('GET', 'request.php?q=javascript', true);
		    break;
		    case "php": xhr.open('GET', 'request.php?q=php', true);
		    break;
	    }
	    //call the onload 
	    xhr.onload = function(){
	        //check if the status is 200(means everything is okay)
	        if (this.status === 200){
	            //return server response as an object with JSON.parse
	            //alert(xhr.responseText.innerHTML);
	            //var dis=JSON.parse(this.responseText);
	            document.getElementById("result").innerHTML=xhr.responseText;
	        }else{
	        	alert("There was a problem with your request");
	        }
	    }
    	//call send
    	xhr.send();
	}
	</script>
</body>
</html>

